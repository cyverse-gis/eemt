# =============================================================================
# EEMT Documentation - Zensical Configuration
# Effective Energy and Mass Transfer (EEMT) Algorithm Suite
# =============================================================================

[project]
site_name = "Effective Energy and Mass Transfer (EEMT)"
site_description = "EEMT: An open source framework for quantifying energy and mass flux in Earth's Critical Zone"
site_author = "Tyson L. Swetnam"
site_url = "https://tyson-swetnam.github.io/eemt/"
copyright = "Copyright &copy; 2025 Tyson L. Swetnam"

# Repository configuration
repo_name = "tyson-swetnam/eemt"
repo_url = "https://github.com/tyson-swetnam/eemt"
edit_uri = "edit/2026_update/docs/"

# Custom assets
extra_css = ["stylesheets/extra.css"]

# Navigation Structure
nav = [
    # Home section
    { "Home" = [
        "index.md",
        { "License" = "license.md" },
        { "Code of Conduct" = "code_of_conduct.md" },
    ]},

    # Getting Started
    { "Getting Started" = [
        { "Overview" = "getting-started/index.md" },
        { "Docker Deployment" = "getting-started/docker-deployment.md" },
    ]},

    # Infrastructure
    { "Infrastructure" = [
        { "Overview" = "infrastructure/index.md" },
        { "Container Architecture" = "infrastructure/container-architecture.md" },
    ]},

    # Scientific Background
    { "Scientific Background" = [
        "background/index.md",
    ]},

    # Algorithms
    { "Algorithms" = [
        { "Solar Radiation" = "algorithms/solar-radiation.md" },
        { "Climate Integration" = "algorithms/climate-integration.md" },
        { "Topographic Analysis" = "algorithms/topographic-analysis.md" },
        { "EEMT Calculations" = "algorithms/eemt-calculations.md" },
    ]},

    # Data Sources
    { "Data Sources" = [
        "data-sources/index.md",
    ]},

    # GRASS GIS
    { "GRASS GIS" = [
        "grass-gis/index.md",
    ]},

    # Workflows
    { "Workflows" = [
        { "Overview" = "workflows/index.md" },
        { "Quick Start" = "workflows/quick-start.md" },
        { "Data Preparation" = "workflows/data-preparation.md" },
    ]},

    # Examples
    { "Examples" = [
        "examples/index.md",
    ]},

    # API
    { "API" = [
        { "Web Interface" = "web-interface/index.md" },
        { "Web Architecture" = "web-interface/architecture.md" },
        { "REST API" = "web-interface/api-reference.md" },
        { "Workflow Parameters" = "api-reference/workflow-parameters.md" },
        { "Legacy CLI" = "api-reference/index.md" },
    ]},

    # Distributed Deployment
    { "Distributed Deployment" = [
        "distributed-deployment/index.md",
    ]},

    # Development
    { "Development" = [
        "development/index.md",
        { "Modernization Plan" = "PLAN.md" },
    ]},

    # About
    { "About" = [
        "about/index.md",
        { "Publications" = "about/publications.md" },
    ]},
]

# =============================================================================
# Extra JavaScript
# =============================================================================

[[project.extra_javascript]]
path = "javascripts/mathjax.js"

[[project.extra_javascript]]
path = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
async = true

# =============================================================================
# Theme Configuration
# =============================================================================

[project.theme]
# Custom directories for overrides
custom_dir = "overrides"

# Logo and favicon
logo = "assets/eemt-logo.svg"
favicon = "assets/favicon.ico"

# Typography
font.text = "Open Sans"
font.code = "Roboto Mono"

# Navigation and content features
features = [
    "navigation.instant",
    "navigation.instant.prefetch",
    "navigation.instant.progress",
    "navigation.tracking",
    "navigation.tabs",
    "navigation.tabs.sticky",
    "navigation.sections",
    "navigation.expand",
    "navigation.indexes",
    "navigation.top",
    "navigation.footer",
    "search.suggest",
    "search.highlight",
    "search.share",
    "header.autohide",
    "content.code.copy",
    "content.code.select",
    "content.code.annotate",
    "content.tabs.link",
]

# -----------------------------------------------------------------------------
# Color Palettes
# -----------------------------------------------------------------------------

# Auto-detect system preference
[[project.theme.palette]]
media = "(prefers-color-scheme)"
toggle.icon = "lucide/monitor"
toggle.name = "Switch to light mode"

# Light mode
[[project.theme.palette]]
media = "(prefers-color-scheme: light)"
scheme = "default"
primary = "green"
accent = "light-green"
toggle.icon = "lucide/sun"
toggle.name = "Switch to dark mode"

# Dark mode
[[project.theme.palette]]
media = "(prefers-color-scheme: dark)"
scheme = "slate"
primary = "green"
accent = "light-green"
toggle.icon = "lucide/moon"
toggle.name = "Switch to system preference"

# =============================================================================
# Markdown Extensions
# =============================================================================

[project.markdown_extensions.abbr]

[project.markdown_extensions.admonition]

[project.markdown_extensions.attr_list]

[project.markdown_extensions.def_list]

[project.markdown_extensions.footnotes]

[project.markdown_extensions.md_in_html]

[project.markdown_extensions.toc]
permalink = true
title = "Page contents"

[project.markdown_extensions.pymdownx.arithmatex]
generic = true

[project.markdown_extensions.pymdownx.betterem]
smart_enable = "all"

[project.markdown_extensions.pymdownx.caret]

[project.markdown_extensions.pymdownx.details]

[project.markdown_extensions.pymdownx.emoji]
emoji_index = "zensical.extensions.emoji.twemoji"
emoji_generator = "zensical.extensions.emoji.to_svg"

[project.markdown_extensions.pymdownx.highlight]
anchor_linenums = true
line_spans = "__span"
pygments_lang_class = true

[project.markdown_extensions.pymdownx.inlinehilite]

[project.markdown_extensions.pymdownx.keys]

[project.markdown_extensions.pymdownx.magiclink]
normalize_issue_symbols = true
repo_url_shorthand = true
user = "tyson-swetnam"
repo = "eemt"

[project.markdown_extensions.pymdownx.mark]

[project.markdown_extensions.pymdownx.smartsymbols]

[project.markdown_extensions.pymdownx.snippets]

[project.markdown_extensions.pymdownx.superfences]
[[project.markdown_extensions.pymdownx.superfences.custom_fences]]
name = "mermaid"
class = "mermaid"
format = "pymdownx.superfences.fence_code_format"

[project.markdown_extensions.pymdownx.tabbed]
alternate_style = true
combine_header_slug = true

[project.markdown_extensions.pymdownx.tasklist]
custom_checkbox = true

[project.markdown_extensions.pymdownx.tilde]

# =============================================================================
# Extra Configuration
# =============================================================================

[project.extra]
generator = false

[project.extra.analytics]
provider = "google"
# property is set via environment variable GOOGLE_ANALYTICS_KEY

[[project.extra.social]]
icon = "fontawesome/brands/github"
link = "https://github.com/tyson-swetnam"

[[project.extra.social]]
icon = "fontawesome/brands/docker"
link = "https://hub.docker.com/u/tswetnam/"

[[project.extra.social]]
icon = "fontawesome/brands/twitter"
link = "https://twitter.com/tswetnam"

[[project.extra.social]]
icon = "fontawesome/solid/globe"
link = "https://tysonswetnam.com/"
