# Example kubeconfig for EEMT Kubernetes deployment
# 
# This is a template kubeconfig file for connecting to a Kubernetes cluster
# where EEMT will be deployed. Replace the placeholders with your actual
# cluster information.
#
# Usage:
#   1. Copy this file to ~/.kube/config-eemt
#   2. Replace all placeholder values (surrounded by < >)
#   3. Set KUBECONFIG environment variable or merge with existing config
#
# Environment setup:
#   export KUBECONFIG=~/.kube/config-eemt
#   kubectl config use-context eemt-cluster
#

apiVersion: v1
kind: Config
current-context: eemt-cluster

# Cluster definitions
clusters:
- name: eemt-cluster
  cluster:
    # Replace with your Kubernetes API server endpoint
    server: https://<KUBERNETES_API_SERVER>:6443
    
    # Certificate authority data (base64 encoded)
    # Get this from your cluster administrator or cloud provider
    certificate-authority-data: <BASE64_ENCODED_CA_CERT>
    
    # Alternative: specify CA certificate file path
    # certificate-authority: /path/to/ca.crt
    
    # For development/testing only - disable certificate verification
    # insecure-skip-tls-verify: true

# Context definitions (cluster + user combinations)
contexts:
- name: eemt-cluster
  context:
    cluster: eemt-cluster
    user: eemt-admin
    namespace: eemt  # Default namespace for EEMT
- name: eemt-dev
  context:
    cluster: eemt-cluster
    user: eemt-developer
    namespace: eemt-dev
- name: eemt-prod
  context:
    cluster: eemt-cluster  
    user: eemt-admin
    namespace: eemt-prod

# User/authentication definitions
users:
- name: eemt-admin
  user:
    # Method 1: Token-based authentication (service account)
    token: <SERVICE_ACCOUNT_TOKEN>
    
    # Method 2: Certificate-based authentication
    # client-certificate-data: <BASE64_ENCODED_CLIENT_CERT>
    # client-key-data: <BASE64_ENCODED_CLIENT_KEY>
    
    # Method 3: External authentication (OIDC, etc.)
    # auth-provider:
    #   name: oidc
    #   config:
    #     client-id: <OIDC_CLIENT_ID>
    #     client-secret: <OIDC_CLIENT_SECRET>
    #     id-token: <OIDC_ID_TOKEN>
    #     idp-issuer-url: <OIDC_ISSUER_URL>

- name: eemt-developer
  user:
    # Developer user with limited permissions
    token: <DEVELOPER_SERVICE_ACCOUNT_TOKEN>

# Preferences (optional)
preferences:
  colors: true

---
# Example for cloud providers

# AWS EKS Configuration
# apiVersion: v1
# kind: Config
# current-context: eemt-eks
# 
# clusters:
# - name: eemt-eks
#   cluster:
#     server: https://<EKS_ENDPOINT>.eks.<REGION>.amazonaws.com
#     certificate-authority-data: <EKS_CA_DATA>
# 
# contexts:
# - name: eemt-eks
#   context:
#     cluster: eemt-eks
#     user: eemt-eks-user
#     namespace: eemt
# 
# users:
# - name: eemt-eks-user
#   user:
#     exec:
#       apiVersion: client.authentication.k8s.io/v1beta1
#       command: aws
#       args:
#         - eks
#         - get-token
#         - --cluster-name
#         - eemt-cluster
#         - --region
#         - <AWS_REGION>

# Google GKE Configuration
# apiVersion: v1
# kind: Config
# current-context: eemt-gke
# 
# clusters:
# - name: eemt-gke
#   cluster:
#     server: https://<GKE_ENDPOINT>
#     certificate-authority-data: <GKE_CA_DATA>
# 
# contexts:
# - name: eemt-gke
#   context:
#     cluster: eemt-gke
#     user: eemt-gke-user
#     namespace: eemt
# 
# users:
# - name: eemt-gke-user
#   user:
#     auth-provider:
#       name: gcp
#       config:
#         cmd-args: config config-helper --format=json
#         cmd-path: gcloud
#         expiry-key: '{.credential.token_expiry}'
#         token-key: '{.credential.access_token}'

# Azure AKS Configuration
# apiVersion: v1
# kind: Config
# current-context: eemt-aks
# 
# clusters:
# - name: eemt-aks
#   cluster:
#     server: https://<AKS_ENDPOINT>.hcp.<REGION>.azmk8s.io:443
#     certificate-authority-data: <AKS_CA_DATA>
# 
# contexts:
# - name: eemt-aks
#   context:
#     cluster: eemt-aks
#     user: eemt-aks-user
#     namespace: eemt
# 
# users:
# - name: eemt-aks-user
#   user:
#     exec:
#       apiVersion: client.authentication.k8s.io/v1beta1
#       command: azure
#       args:
#         - aks
#         - get-credentials
#         - --resource-group
#         - <RESOURCE_GROUP>
#         - --name
#         - <CLUSTER_NAME>